{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <h1>Мои статьи</h1>
    
    {% if error %}
        <div style="color: red; margin-bottom: 20px;">{{ error }}</div>
    {% endif %}
    
    {% if articles %}
        {% for article in articles %}
            <div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
                <h3>{{ article.title }}</h3>
                <p style="white-space: pre-line;">{{ article.article_text }}</p>
                <div style="margin-top: 10px;">
                    <small>Создано: {{ article.created_at }}</small>
                </div>
                <div style="margin-top: 10px;">
                    <a href="{{ url_for('lab5.edit_article', article_id=article.id) }}">Редактировать</a>
                    <a href="{{ url_for('lab5.delete_article', article_id=article.id) }}" 
                       onclick="return confirm('Вы уверены, что хотите удалить эту статью?')" 
                       style="color: red; margin-left: 15px;">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div style="text-align: center; padding: 40px;">
            <p>У вас пока нет статей.</p>
            <p><a href="/lab5/create">Создайте свою первую статью!</a></p>
        </div>
    {% endif %}
    
    <div style="margin-top: 20px;">
        <a href="/lab5/create">Создать новую статью</a>
    </div>
{% endblock %}